<!DOCTYPE html>
<html ng-app="app">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="theme-color" content="#000000">

	<title></title>
	<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
	<script src="lib.js"></script>

	<!-- <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.css"> -->
	<link rel="stylesheet" href="lib/angular-material.css">
</head>
<body>

<md-button id="refresh">Refresh</md-button>
<md-button id="rotate">Rotate</md-button>

<pre id="debug"></pre>

<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>-->
<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script>-->
<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script>-->
<!--<script src="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.js"></script>-->

<script src="lib/angular.js"></script>
<script src="lib/angular-animate.js"></script>
<script src="lib/angular-aria.js"></script>
<script src="lib/angular-material.js"></script>


<script type="text/javascript">
	angular.module('app', ['ngMaterial']);

	var socket = io('/controller');
		
	$('#refresh').addEventListener('click', function(e) {
		socket.emit('refreshDisplay');
	});
	$('#rotate').addEventListener('click', function(e) {
		socket.emit('rotateDisplay');
	});

	function debug(text) {
		$('#debug').textContent += text + '\n';
	}

	window.addEventListener("touchstart", function(e) {
		// debug('touchstart');
		var touch = e.touches[0];
		var position = {x: touch.clientX, y: touch.clientY};
		// console.log(position);
		socket.emit('touchstart', position);
	}, false);
	window.addEventListener("touchend", function(e) {
		// debug('touchend');
		socket.emit('touchend');
	}, false);
	window.addEventListener("touchcancel", function(e) {
		// debug('touchcancel');
		socket.emit('touchend');
	}, false);
	window.addEventListener("touchmove", function(e) {
		// debug('touchmove');
		var touch = e.touches[0];
		var position = {x: touch.clientX, y: touch.clientY};
		// console.log(position);
		socket.emit('touchmove', position);
	}, false);

</script>

</body>
</html>